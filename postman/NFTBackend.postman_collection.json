{
  "info": {
    "name": "NFT Backend API",
    "description": "Postman collection covering the REST API endpoints exposed by the NFT Backend service.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "health"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Devices",
      "item": [
        {
          "name": "List Devices",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/devices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "devices"
              ]
            }
          },
          "response": []
        },
        {
          "name": "List Composite IDs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/devices/composite-ids?system=ebb&layer=1&deviceId=tray-a",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "devices",
                "composite-ids"
              ],
              "query": [
                {
                  "key": "system",
                  "value": "ebb",
                  "description": "System identifier"
                },
                {
                  "key": "layer",
                  "value": "1",
                  "description": "Layer identifier"
                },
                {
                  "key": "deviceId",
                  "value": "tray-a",
                  "description": "Optional device identifier"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Devices With Sensors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/devices/all",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "devices",
                "all"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sensors For Devices",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/devices/sensors?compositeIds=ebb-1-tray-a&compositeIds=ebb-1-tray-b",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "devices",
                "sensors"
              ],
              "query": [
                {
                  "key": "compositeIds",
                  "value": "ebb-1-tray-a",
                  "description": "First composite id"
                },
                {
                  "key": "compositeIds",
                  "value": "ebb-1-tray-b",
                  "description": "Second composite id"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Germination",
      "item": [
        {
          "name": "Get Germination Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/germination",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "germination"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Trigger Germination Start",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/germination/start",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "germination",
                "start"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Germination Start",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/germination",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "germination"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"2024-01-01T00:00:00Z\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notes",
      "item": [
        {
          "name": "List Notes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/notes",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Notes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/notes/search?query=hydroponics",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notes",
                "search"
              ],
              "query": [
                {
                  "key": "query",
                  "value": "hydroponics",
                  "description": "Full text search term"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Note",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/notes",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notes"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Lighting adjustment\",\n  \"date\": \"2024-01-15T10:30:00\",\n  \"content\": \"Raised the light rack by 5 cm to reduce heat stress.\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Update Note",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/notes/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notes",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Lighting adjustment\",\n  \"date\": \"2024-01-15T12:00:00\",\n  \"content\": \"Adjusted the light rack height after checking leaf temperature.\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Delete Note",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/notes/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "notes",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Records",
      "item": [
        {
          "name": "Aggregated History (GET)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/records/history/aggregated?compositeId=ebb-1-tray-a&from=2024-01-01T00:00:00Z&to=2024-01-07T00:00:00Z&bucket=5m&sensorType=temperature&sensorType=ph&bucketLimit=288&bucketOffset=0&sensorLimit=10&sensorOffset=0",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "records",
                "history",
                "aggregated"
              ],
              "query": [
                {
                  "key": "compositeId",
                  "value": "ebb-1-tray-a",
                  "description": "Composite identifier for the device"
                },
                {
                  "key": "from",
                  "value": "2024-01-01T00:00:00Z",
                  "description": "Start of the interval (ISO-8601 or epoch millis)"
                },
                {
                  "key": "to",
                  "value": "2024-01-07T00:00:00Z",
                  "description": "End of the interval (must be after 'from')"
                },
                {
                  "key": "bucket",
                  "value": "5m",
                  "description": "Aggregation window size (default 5m)"
                },
                {
                  "key": "sensorType",
                  "value": "temperature",
                  "description": "Optional sensor type filter"
                },
                {
                  "key": "sensorType",
                  "value": "ph",
                  "description": "Optional additional sensor type filter"
                },
                {
                  "key": "bucketLimit",
                  "value": "288",
                  "description": "Maximum number of buckets to return",
                  "disabled": true
                },
                {
                  "key": "bucketOffset",
                  "value": "0",
                  "description": "Offset for pagination over buckets",
                  "disabled": true
                },
                {
                  "key": "sensorLimit",
                  "value": "10",
                  "description": "Maximum number of sensors to include",
                  "disabled": true
                },
                {
                  "key": "sensorOffset",
                  "value": "0",
                  "description": "Offset for pagination over sensors",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Aggregated History (POST)",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/records/history/aggregated?compositeId=ebb-1-tray-a&from=2024-01-01T00:00:00Z&to=2024-01-07T00:00:00Z&bucket=5m",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "records",
                "history",
                "aggregated"
              ],
              "query": [
                {
                  "key": "compositeId",
                  "value": "ebb-1-tray-a",
                  "description": "Composite identifier for the device"
                },
                {
                  "key": "from",
                  "value": "2024-01-01T00:00:00Z",
                  "description": "Start of the interval"
                },
                {
                  "key": "to",
                  "value": "2024-01-07T00:00:00Z",
                  "description": "End of the interval"
                },
                {
                  "key": "bucket",
                  "value": "5m",
                  "description": "Aggregation window size"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Sensor Config",
      "item": [
        {
          "name": "List Sensor Configurations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Sensor Configuration",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config/temperature",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config",
                "temperature"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Sensor Configuration",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensorType\": \"temperature\",\n  \"minValue\": 18.0,\n  \"maxValue\": 24.0,\n  \"description\": \"Ideal daytime temperature\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Create Sensor Configuration (Path Type)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config/ph",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config",
                "ph"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"minValue\": 5.5,\n  \"maxValue\": 6.2,\n  \"description\": \"pH range for basil seedlings\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Update Sensor Configuration",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config/temperature",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config",
                "temperature"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensorType\": \"temperature\",\n  \"minValue\": 19.0,\n  \"maxValue\": 23.5,\n  \"description\": \"Updated range after calibration\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Delete Sensor Configuration",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sensor-config/temperature",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "sensor-config",
                "temperature"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Status",
      "item": [
        {
          "name": "Sensor Average",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/status/ebb/1/temperature/average",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "status",
                "ebb",
                "1",
                "temperature",
                "average"
              ]
            }
          },
          "response": []
        },
        {
          "name": "All Sensor Averages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/status/ebb/1/all/average",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "status",
                "ebb",
                "1",
                "all",
                "average"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Topics",
      "item": [
        {
          "name": "Sensor Types By Topic",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/topics/sensors",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "topics",
                "sensors"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}
